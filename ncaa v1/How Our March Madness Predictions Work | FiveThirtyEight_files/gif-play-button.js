!function(y){y.fn.onScreen=function(Q){var w={container:window,direction:"vertical",toggleClass:null,doIn:null,doOut:null,tolerance:0,throttle:null,lazyAttr:null,lazyPlaceholder:"data:image/gif;base64,R0lGODlhEAAFAIAAAP///////yH/C05FVFNDQVBFMi4wAwEAAAAh+QQJCQAAACwAAAAAEAAFAAACCIyPqcvtD00BACH5BAkJAAIALAAAAAAQAAUAgfT29Pz6/P///wAAAAIQTGCiywKPmjxUNhjtMlWrAgAh+QQJCQAFACwAAAAAEAAFAIK8urzc2tzEwsS8vrzc3tz///8AAAAAAAADFEiyUf6wCEBHvLPemIHdTzCMDegkACH5BAkJAAYALAAAAAAQAAUAgoSChLS2tIyKjLy+vIyOjMTCxP///wAAAAMUWCQ09jAaAiqQmFosdeXRUAkBCCUAIfkECQkACAAsAAAAABAABQCDvLq83N7c3Nrc9Pb0xMLE/P78vL68/Pr8////AAAAAAAAAAAAAAAAAAAAAAAAAAAABCEwkCnKGbegvQn4RjGMx8F1HxBi5Il4oEiap2DcVYlpZwQAIfkECQkACAAsAAAAABAABQCDvLq85OLkxMLE9Pb0vL685ObkxMbE/Pr8////AAAAAAAAAAAAAAAAAAAAAAAAAAAABCDwnCGHEcIMxPn4VAGMQNBx0zQEZHkiYNiap5RaBKG9EQAh+QQJCQAJACwAAAAAEAAFAIOEgoTMysyMjozs6uyUlpSMiozMzsyUkpTs7uz///8AAAAAAAAAAAAAAAAAAAAAAAAEGTBJiYgoBM09DfhAwHEeKI4dGKLTIHzCwEUAIfkECQkACAAsAAAAABAABQCDvLq85OLkxMLE9Pb0vL685ObkxMbE/Pr8////AAAAAAAAAAAAAAAAAAAAAAAAAAAABCAQSTmMEGaco8+UBSACwWBqHxKOJYd+q1iaXFoRRMbtEQAh+QQJCQAIACwAAAAAEAAFAIO8urzc3tzc2tz09vTEwsT8/vy8vrz8+vz///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAEIhBJWc6wJZAtJh3gcRBAaXiIZV2kiRbgNZbA6VXiUAhGL0QAIfkECQkABgAsAAAAABAABQCChIKEtLa0jIqMvL68jI6MxMLE////AAAAAxRoumxFgoxGCbiANos145e3DJcQJAAh+QQJCQAFACwAAAAAEAAFAIK8urzc2tzEwsS8vrzc3tz///8AAAAAAAADFFi6XCQwtCmAHbPVm9kGWKcEQxkkACH5BAkJAAIALAAAAAAQAAUAgfT29Pz6/P///wAAAAIRlI8SAZsPYnuJMUCRnNksWwAAOw==",debug:!1};return"remove"!==Q&&y.extend(w,Q),this.each(function(){var n,o,a,r,i,l,c,s,u,f,d,A=this,p=!1,g=y(this),h=y.isWindow(w.container);function C(){return!p&&("horizontal"===w.direction?h?d<c-w.tolerance&&o<d+u-w.tolerance:d<i-w.tolerance&&d>-u+w.tolerance:h?f<l-w.tolerance&&n<f+s-w.tolerance:f<r-w.tolerance&&f>-s+w.tolerance)}function v(){return!!p&&("horizontal"===w.direction?h?d+(u-w.tolerance)<o||d>c-w.tolerance:d>i-w.tolerance||-u+w.tolerance>d:h?f+(s-w.tolerance)<n||f>l-w.tolerance:f>r-w.tolerance||-s+w.tolerance>f)}function e(A,e,t){var n,o,a;return function(){o=arguments,a=!0,t=t||this,n||function(){n=a?(A.apply(t,o),a=!1,setTimeout(arguments.callee,e)):null}()}}if("remove"===Q)return y(A).off("scroll.onScreen resize.onScreen"),void y(window).off("resize.onScreen");var t=function(){if(h||"static"!==y(w.container).css("position")||y(w.container).css("position","relative"),a=y(w.container),r=a.height(),i=a.width(),l=a.scrollTop()+r,c=a.scrollLeft()+i,s=g.outerHeight(!0),u=g.outerWidth(!0),h){var A=g.offset();f=A.top,d=A.left}else{var e=g.position();f=e.top,d=e.left}if(n=a.scrollTop(),o=a.scrollLeft(),w.debug&&(console.log("Container: "+w.container+"\nWidth: "+r+"\nHeight: "+i+"\nBottom: "+l+"\nRight: "+c),console.log("Matched element: "+(void 0!==g.attr("class")?g.prop("tagName").toLowerCase()+"."+g.attr("class"):g.prop("tagName").toLowerCase())+"\nLeft: "+d+"\nTop: "+f+"\nWidth: "+u+"\nHeight: "+s)),C()){if(w.toggleClass&&g.addClass(w.toggleClass),"function"==typeof w.doIn&&w.doIn.call(g[0]),w.lazyAttr&&"IMG"===g.prop("tagName")){var t=g.attr(w.lazyAttr);t!==g.prop("src")&&(g.css({background:"url("+w.lazyPlaceholder+") 50% 50% no-repeat",minHeight:"5px",minWidth:"16px"}),g.prop("src",t).on("load",function(){y(this).css({background:"none"})}))}p=!0}else v()&&(w.toggleClass&&g.removeClass(w.toggleClass),"function"==typeof w.doOut&&w.doOut.call(g[0]),p=!1)};window.location.hash?e(t,50):t(),w.throttle&&(t=e(t,w.throttle)),y(w.container).on("scroll.onScreen resize.onScreen",t),h||y(window).on("resize.onScreen",t),"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=jQuery:"function"==typeof define&&define.amd&&define("jquery-onscreen",[],function(){return jQuery})})}}(jQuery),function(f,d){"use strict";function A(){d("[data-animate]").each(function(){var u=d(this);if(u.parent().hasClass("gif-player"))return!1;u.one("load",function(){function e(A){var e,t,n=new Image;n.src=a,(e=d(A).parent()).hasClass("gif-playing")||(t=e.append(d('<span class="gif-loading"></span>')).find(".gif-loading"),e.append(s),d(n).load(function(){t.remove(),s.attr("src",n.src)}),e.addClass("gif-playing"),o&&o.remove())}var o,t,n,A=d(this),a=A.data("animate"),r=A.attr("src"),i=A.width(),l=A.height(),c=A.wrap('<span class="gif-player"></span>').parent(),s=d('<img class="gif-to-play">').attr("width",i).attr("height",l);1!==u.data("autoplay")&&(o=c.append(d('<div class="play-button"></div>')).find(".play-button")),A.data("src",r),1===u.data("autoplay")&&u.onScreen({container:f,direction:"vertical",doIn:function(){e(this)},doOut:function(){},tolerance:l/2,throttle:50,toggleClass:"onScreen",lazyAttr:null,debug:!1}),c.one("mouseenter",function(A){e(d(this).find("img")),A.stopPropagation(),A.preventDefault()}),c.on("click",function(A){e(d(this).find("img")),A.stopPropagation(),A.preventDefault()}),t=1,n=f.setInterval(function(){var A=d(".onScreen");0<A.length?(e(A),f.clearInterval(n)):3<++t&&f.clearInterval(n)},1e3)}).each(function(){this.complete&&d(this).load()})})}A(),f.checkGifAnimation=A}(this,jQuery);